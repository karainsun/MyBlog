import{_ as N,B as k,i as w,t as F,j as S}from"./index.ed3e6edb.js";import{d as T,u as B,m as L,j as i,C as $,h as H,q as I,r as j,c as n,b as x,a as t,F as b,I as C,n as V,s as z,p as D,f as R,o as l,G as g}from"./vendor.3a2e8e53.js";const q=T({name:"collection",components:{Banner:k},setup(){const o=B(),d=L(()=>o.state.banners.order_5),_=i(!1),r=i(!1),m=i(null),c=i(),u=i([]),e=$({pageSize:10,pageNo:1,category:"",name:""});let p=0;const h=()=>{const s=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;_.value=m.value.offsetTop-s<=60,F((()=>{const f=document.documentElement.clientHeight,y=document.body.scrollHeight;if(f+s+3>=y){if(e.pageNo>=p)return;e.pageNo++,v(e)}})(),1e3)},v=s=>{S(s).then(a=>{a.code===200&&(e.pageNo===1?c.value=a.data.list:e.pageNo>1&&a.data.list.forEach(f=>{c.value.push(f)}),p=a.data.meta.total_pages,e.pageNo>=p?r.value=!0:r.value=!1)}).catch(a=>console.log("error:",a))},E=s=>{e.category=s,e.pageNo=1,c.value=[],v(e)};return H(()=>{window.removeEventListener("scroll",h)}),I(()=>{window.addEventListener("scroll",h),w().then(s=>{s.code===200&&(u.value=s.data)}),v(e)}),{list:c,navFixed:_,listRef:m,cates:u,catalogueTap:E,alldone:r,banner:d}}}),A=o=>(D("data-v-7e1f46fd"),o=o(),R(),o),G={class:"collection"},M={class:"collection-content d-flex"},O={class:"list",ref:"listRef"},U=["href"],Y=["src"],J={class:"title mt-10 mb-10"},K={class:"description"},P={class:"nav"},Q=A(()=>t("h1",{class:"nav-title iconfont icon-nav-tag"},"\u5206\u7C7B\u76EE\u5F55",-1)),W={class:"nav-list pl-20"},X=["onClick"],Z={key:0,class:"alldone"};function ee(o,d,_,r,m,c){const u=j("banner");return l(),n("div",G,[x(u,{title:o.banner.title,image:o.banner.banner,desc:o.banner.desc},null,8,["title","image","desc"]),t("div",M,[t("div",O,[(l(!0),n(b,null,C(o.list,e=>(l(),n("a",{key:e.id,class:"item",href:e.url,target:"_bank"},[t("img",{src:e.logo,alt:""},null,8,Y),t("div",J,g(e.name),1),t("div",K,g(e.description),1)],8,U))),128))],512),t("div",P,[t("div",{class:V(["catalogue ml-20 pl-20",o.navFixed?"active":""])},[Q,t("ul",W,[t("li",{onClick:d[0]||(d[0]=e=>o.catalogueTap(""))},"\u5168\u90E8"),(l(!0),n(b,null,C(o.cates,e=>(l(),n("li",{key:e.name,onClick:p=>o.catalogueTap(e.name)},g(e.name),9,X))),128))])],2)])]),o.alldone?(l(),n("div",Z,"\u5DF2\u7ECF\u5230\u5E95\u4E86~")):z("",!0)])}var se=N(q,[["render",ee],["__scopeId","data-v-7e1f46fd"]]);export{se as default};
